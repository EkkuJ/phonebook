{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","value","handleChange","onChange","PersonForm","nameValue","numberValue","handleSubmit","handleNameChange","handleNumberChange","onSubmit","type","Persons","persons","handleDelete","map","person","name","number","onClick","id","Notification","success","message","display","className","style","baseUrl","exp","getAll","axios","get","then","response","data","create","newObject","post","update","put","deleteId","delete","params","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","notification","setNotification","setSuccess","personsShown","toLowerCase","includes","refreshNumbers","numberService","initialNumbers","catch","showNotification","useEffect","setTimeout","event","target","preventDefault","names","newPerson","alert","window","confirm","find","error","concat","deletedName","deletedId","config","newPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4c7e9db3.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ value, handleChange }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tfilter shown with:{\" \"}\r\n\t\t\t<input value={value} onChange={handleChange}></input>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n\tnameValue,\r\n\tnumberValue,\r\n\thandleSubmit,\r\n\thandleNameChange,\r\n\thandleNumberChange,\r\n}) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input value={nameValue} onChange={handleNameChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber:{\" \"}\r\n\t\t\t\t<input value={numberValue} onChange={handleNumberChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\">add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Persons = ({ persons, handleDelete }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{persons.map((person) => (\r\n\t\t\t\t<p key={person.id}>\r\n\t\t\t\t\t{person.name} {person.number} <button onClick={() => handleDelete(person.id)}>delete</button>\r\n\t\t\t\t</p>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ success, message}) => {\r\n    const display = message ? \"block\" : \"none\"\r\n\r\n    if(success) {\r\n        return (\r\n            <div className=\"success\" style={{display: display}}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div className=\"error\" style={{display: display}}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification;","import axios from \"axios\";\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteId = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`, { params: { id: id }})\r\n  return request\r\n}\r\n\r\nconst exp = { getAll, create, update, deleteId }\r\nexport default exp;","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Persons from \"./components/Persons\";\r\nimport Notification from \"./components/Notification\";\r\nimport numberService from \"./services/persons\";\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([]);\r\n\tconst [newName, setNewName] = useState(\"\");\r\n\tconst [newNumber, setNewNumber] = useState(\"\");\r\n\tconst [filter, setFilter] = useState(\"\");\r\n\tconst [notification, setNotification] = useState(null);\r\n\tconst [success, setSuccess] = useState(false);\r\n\r\n\tconst personsShown =\r\n\t\tfilter === \"\"\r\n\t\t\t? persons\r\n\t\t\t: persons.filter((person) =>\r\n\t\t\t\t\tperson.name.toLowerCase().includes(filter.toLowerCase())\r\n\t\t\t  );\r\n\tconst refreshNumbers = () => {\r\n\t\tnumberService\r\n\t\t\t.getAll()\r\n\t\t\t.then((initialNumbers) => setPersons(initialNumbers))\r\n\t\t\t.catch(() => {\r\n\t\t\t\tsetSuccess(false);\r\n\t\t\t\tshowNotification(`Failed to get the numbers from the server`);\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\trefreshNumbers();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tconst showNotification = (notification) => {\r\n\t\tsetNotification(notification);\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetNotification(null);\r\n\t\t}, 3000);\r\n\t};\r\n\r\n\tconst handleNameChange = (event) => {\r\n\t\tsetNewName(event.target.value);\r\n\t};\r\n\r\n\tconst handleNumberChange = (event) => {\r\n\t\tsetNewNumber(event.target.value);\r\n\t};\r\n\r\n\tconst handleFilterChange = (event) => {\r\n\t\tsetFilter(event.target.value);\r\n\t};\r\n\r\n\tconst addPerson = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst names = persons.map((person) => person.name);\r\n\t\tconst newPerson = {\r\n\t\t\tname: newName,\r\n\t\t\tnumber: newNumber,\r\n\t\t};\r\n\r\n\t\tif (names.includes(newName)) {\r\n\t\t\tconst alert = `${newName} is already added to the phonebook. Replace the old number with the new one?`;\r\n\t\t\tif (window.confirm(alert)) {\r\n\t\t\t\tconst id = persons.find((person) => person.name === newName).id;\r\n\t\t\t\tnumberService\r\n\t\t\t\t\t.update(id, newPerson)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tsetPersons(\r\n\t\t\t\t\t\t\tpersons.map((person) =>\r\n\t\t\t\t\t\t\t\tperson.id !== id ? person : response\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetSuccess(true);\r\n\t\t\t\t\t\tshowNotification(\r\n\t\t\t\t\t\t\t`Successfully updated the number of ${newName}`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tsetSuccess(false);\r\n\t\t\t\t\t\tshowNotification(error.response.data.error);\r\n\t\t\t\t\t\trefreshNumbers();\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tnumberService\r\n\t\t\t\t.create(newPerson)\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tsetPersons(persons.concat(response));\r\n\t\t\t\t\tsetNewName(\"\");\r\n\t\t\t\t\tsetNewNumber(\"\");\r\n\t\t\t\t\tsetSuccess(true);\r\n\t\t\t\t\tshowNotification(\r\n\t\t\t\t\t\t`Successfully added ${newName} to the phonebook`\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetSuccess(false);\r\n\t\t\t\t\tshowNotification(error.response.data.error);\r\n\t\t\t\t\trefreshNumbers();\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst deletePerson = (id) => {\r\n\t\tconst deletedName = persons.find((person) => person.id === id).name;\r\n\t\tif (\r\n\t\t\twindow.confirm(\r\n\t\t\t\t`Do you really want to delete ${deletedName} from the phonebook?`\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tnumberService\r\n\t\t\t\t.deleteId(id)\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tconst deletedId = response.config.params.id;\r\n\t\t\t\t\tconst newPersons = persons.filter(\r\n\t\t\t\t\t\t(person) => person.id !== deletedId\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsetPersons(newPersons);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetSuccess(false);\r\n\t\t\t\t\tshowNotification(error.response.data.error);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\t<Filter value={filter} handleChange={handleFilterChange} />\r\n\t\t\t<h3>Add new</h3>\r\n\t\t\t<PersonForm\r\n\t\t\t\tnameValue={newName}\r\n\t\t\t\tnumberValue={newNumber}\r\n\t\t\t\thandleSubmit={addPerson}\r\n\t\t\t\thandleNameChange={handleNameChange}\r\n\t\t\t\thandleNumberChange={handleNumberChange}\r\n\t\t\t/>\r\n\t\t\t<h3>Numbers</h3>\r\n\t\t\t<Notification success={success} message={notification} />\r\n\t\t\t<Persons persons={personsShown} handleDelete={deletePerson} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\"\nimport \"./index.css\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}